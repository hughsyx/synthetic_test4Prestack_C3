  function [sponge] = createSponge(xdim,zdim, sidepad, tcoef)% function [sponge] = createSponge(xdim,zdim, sidepad, tcoef)%% Creates a sponge function for a Cerjan-style ABC.%%% Input Arguments% ---------------------------------% % 1. xdim       : x-dimension of model% %% 2. zdim       : z-dimension of model%% 3. sidepad    : width of sidepad%% 4. tcoef      : exponential coefficient used in damping function%%%% Output Variables % ---------------------------------% 1. sponge : a matrix including the sponge filter in the pad region%%% By Jonathan Ajo-Franklin (Started 11/14/04)% % [IMPORTANT] % This function and all associated data files included% are free to use and covered under creative commons% attribution/share-alike  2.5 license. This means you can use them% for  anything you like including commercial apps providing that% you  attribute the creation (to me - see below) and you make% derivative  products available under the same license. If you use% them  in a scientific paper or class project please acknowledge% the source  as,    %% [Dr. Jonathan Ajo-Franklin, Lawrence Berkeley National Laboratory]%% For license details see %% http://creativecommons.org/licenses/by-sa/2.5/ truex = xdim+(sidepad*2);truez = zdim+(sidepad*2);sponge = zeros(truez,truex);tcoef = 0.015/2;%tcoef  = 0.015;% leftfor I=1:sidepad,    for J=1:truez,        sponge(J,I) = sponge(J,I) - (1-exp(-(tcoef*(sidepad-I-1))*(tcoef*(sidepad-I-1))));    end;end;% rightfor  I=(sidepad+xdim+1):truex,      for J=1:truez,          sponge(J,I)= sponge(J,I) - (1-exp(-(tcoef*(I-(sidepad+xdim)))*(tcoef*(I-(sidepad+xdim)))));      end;end;                                                                                % bottom                                for I=1:truex,    for J=(sidepad+zdim+1):truez,        sponge(J,I) = sponge(J,I) - (1-exp(-(tcoef*(J-(sidepad+zdim)))*(tcoef*(J-(sidepad+zdim)))));    end;end;    % top   for I=1:truex,    for J=1:sidepad,        sponge(J,I) = sponge(J,I) - (1-exp(-(tcoef*(sidepad-J-1))*(tcoef*(sidepad-J-1))));    end;end;                    sponge = ones(truez,truex)+sponge;